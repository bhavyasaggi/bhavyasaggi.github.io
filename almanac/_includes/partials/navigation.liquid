{%- if nav_items and nav_items.size > 0 -%}
  <ol class="reset-box reset-list ps-2">
    {%- for nav_item in nav_items -%}
      {%- if nav_item.url == page_url -%}
        {%- assign nav_item_shade = 'shade-secondary' -%}
      {%- else -%}
        {%- assign nav_item_shade = 'shade-primary' -%}
      {%- endif -%}
      <li>
        {%- assign nav_children = nav_item['children'] -%}
        {%- if nav_children and nav_children.size > 0 -%}
          <details open>
            <summary class="p-1 {{ nav_item_shade }} text-truncate hover cursor-pointer">
              {%- if nav_item.url and nav_item.url != '#' -%}
                <a href="{{- nav_item.url -}}" rel="nofollow" class="{{ nav_item_shade }} text-truncate" title="{{- nav_item.title -}}">
                  {%- if nav_root -%}
                    <strong>
                    {%- endif -%}
                    {{- nav_item.title-}}
                    {%- if nav_root -%}
                    </strong>
                  {%- endif -%}
                </a>
              {%- else -%}
                <span class="{{ nav_item_shade }} text-truncate" title="{{- nav_item.title -}}">
                  {%- if nav_root -%}
                    <strong>
                    {%- endif -%}
                    {{- nav_item.title-}}
                    {%- if nav_root -%}
                    </strong>
                  {%- endif -%}
                </span>
              {%- endif-%}
            </summary>
            {%- render 'partials/navigation.liquid', nav_items: nav_children, page_url: page_url -%}
          </details>
        {%- else -%}
          <div class="p-1 {{ nav_item_shade }} text-truncate hover cursor-pointer">
            <a href="{{- nav_item.url -}}" rel="nofollow" class="{{ nav_item_shade }} text-truncate" title="{{- nav_item.title -}}">
              {%- if nav_root -%}
                <strong>
                {%- endif -%}
                {{- nav_item.title -}}
                {%- if nav_root -%}
                </strong>
              {%- endif -%}
            </a>
          </div>
        {%- endif -%}
      </li>
    {%- endfor -%}
  </ol>
{%- endif -%}
