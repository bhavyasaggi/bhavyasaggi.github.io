<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
      Live Code
    </title>
    <meta name="description" content="Live Code">
    <meta name="robots" content="noindex">

    <script type="importmap">
      {
        "imports": {
          "react": "https://esm.sh/react@18.2.0",
          "react-dom": "https://esm.sh/react-dom@18.2.0",
          "react-dom/": "https://esm.sh/react-dom@18.2.0/",
          "@codesandbox/sandpack-react": "https://esm.sh/@codesandbox/sandpack-react@2.8.0"
        }
      }
    </script>

    <script defer type="module">
      import React from "react";
      import {createRoot} from "react-dom/client";
      import {Sandpack} from "@codesandbox/sandpack-react";

      const root = createRoot(document.getElementById("root"));
      const inputData = document.getElementById("default-input");
      const [
        template = "vanilla",
        layout = "preview"
      ] = (`vanilla-console` || "vanilla").split('-');
      const filename = {
        'react': '/App.js',
        'static': '/index.html',
        'vanilla': '/index.js'
      }[template];
      const autoAction = template !== "react"
      const sandpackComponent = React.createElement(Sandpack, {
        template,
        theme: "dark",
        files: {
          [filename]: inputData.value
        },
        options: {
          layout,
          autoRun: autoAction,
          autoReload: autoAction,
          skipEval: false,
          initMode: "user-visible",
          recompileMode: "delayed",
          recompileDelay: 300,
          showRefreshButton: true,
          showInlineErrors: true,
          showLineNumbers: true,
          editorWidthPercentage: 50,
          resizablePanels: false
        }
      }, null);
      inputData.value = '';
      root.render(sandpackComponent);
    </script>
  </head>

  <body style="margin:0;border:0;padding:0;outline:0;">
    <textarea id="default-input" hidden style="display:none;height:0;width:0;">
  console.log("Hello World");
</textarea>
    <div id="root"></div>
  </body>
</html>
